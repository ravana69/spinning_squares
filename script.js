W=window,w=c.width=W.innerWidth,h=c.height=W.innerHeight,$=c.getContext('2d'),T='translate',H='rotate',F='fill',J='Rect',K='Style',s=[],t=0,M=Math,r=M.random,P=M.PI,l=.01;function a(){W.requestAnimationFrame(a),$[F+K]='rgba(0,0, 0,.1)',$[F+J](0,0,w,h),++t,s.length<80&&r()<.3&&s.push(new S),$[T](w/2,h/2),$[H](t*l/2),s.map(u),$[H](-t*l/2),$[T](-w/2,-h/2)}function u(_){var t;_.b+=_.s,_.A+=_.a,_.A%=P*2,_.x+=_.w+=_.X,_.y+=_.q+=_.Y,(_.x<-w||_.x>w||_.y<-h||_.y>h)&&R(_),$[F+K]='hsl('+_.c+',80%,'+(50+M.sin(_.b)*15|0)+'%)',$[T](_.x,_.y),$[H](_.A),i=_.w+_.q,t=i*20,$[F+J](-t/2,-t/2,t,t),$[H](-_.A),$[T](-_.x,-_.y)}function R(_){var i=r()*P*2;_.c=t%360,_.b=r()*P,_.s=r()/10,_.A=r()*P,_.a=r()*.04-.02,_.x=_.y=_.w=_.q=0,_.X=M.cos(i)*(r()*l+l),_.Y=M.sin(i)*(r()*l+l)}function S(){R(this)}a();

// unminified version here: https://codepen.io/MateiGCopot/pen/NqNZYz